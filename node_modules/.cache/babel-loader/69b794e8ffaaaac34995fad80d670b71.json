{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React from \"react\";\nimport { Component } from 'react';\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ReactMapGL, { Marker, Layer } from 'react-map-gl'; // import 'mapbox-gl/dist/mapbox-gl.css';\n\nimport { getEvents } from './ServerFunctions';\n\nvar Map =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Map, _React$Component);\n\n  function Map(props) {\n    var _this;\n\n    _classCallCheck(this, Map);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Map).call(this, props));\n    _this.updateWindowDimensions = _this.updateWindowDimensions.bind(_assertThisInitialized(_this));\n    _this.state = {\n      viewport: {\n        width: 0,\n        height: 0,\n        latitude: 40.427,\n        longitude: -86.915,\n        zoom: 14\n      },\n      events: [//   {name: 'Party',\n        //   theme: 'Boogie',\n        //   start: '12:30',\n        //   end: '3:30',\n        //   over21: false,\n        //   BYOB: false,\n        //   position: [40.4285,-86.909],\n        // },\n        // {name: \"Jose's Party\",\n        //   theme: 'Fun',\n        //   start: '4:00',\n        //   end: '6:00',\n        //   over21: true,\n        //   BYOB: true,\n        //   position: [40.426,-86.924],\n        // },\n        // {name: '',\n        //   theme: '',\n        //   start: '',\n        //   end: '',\n        //   over21: false,\n        //   BYOB: false,\n        //   lat: 40.435,\n        //   long: -86.914,\n        //   position: [40.435,-86.914],\n        // },\n      ]\n    };\n    return _this;\n  }\n\n  _createClass(Map, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.updateWindowDimensions();\n      window.addEventListener('resize', this.updateWindowDimensions); //fetch events\n      // fetch('http://party-finder.me/app/events', {\n      //   method: 'GET',\n      // }).then(response => this.setState({events: response.data})).catch();\n\n      getEvents().then(function (response) {\n        for (var i = 0; i < response.length; i++) {\n          var event = response[i];\n\n          _this2.state.events.push(event);\n        }\n      });\n      console.log(this.state.events); // this.setState({events: events})\n      // console.log(this.state.events) \n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.updateWindowDimensions);\n    }\n  }, {\n    key: \"updateWindowDimensions\",\n    value: function updateWindowDimensions() {\n      this.setState(function (prevState) {\n        return {\n          viewport: _objectSpread({}, prevState.viewport, {\n            width: window.innerWidth,\n            height: window.innerHeight\n          })\n        };\n      });\n    }\n  }, {\n    key: \"clickMarker\",\n    value: function clickMarker() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(ReactMapGL, _extends({}, this.state.viewport, {\n        mapboxApiAccessToken: \"pk.eyJ1IjoiYnJpYW5sb25nOTEyIiwiYSI6ImNqdXB6dDk4MzBzMWszeXA3ODlodzBtdXcifQ.ZqmXaAGe-PFb9GZmmnhcog\",\n        scrollZoom: false,\n        onViewportChange: function onViewportChange(viewport) {\n          return _this3.setState({\n            viewport: viewport\n          });\n        }\n      }), React.createElement(List, null, this.state.events.map(function (event, index) {\n        return React.createElement(ListItem, {\n          key: index\n        }, React.createElement(Marker, {\n          latitude: event.coordinates[0],\n          longitude: event.coordinates[1],\n          offsetTop: -10,\n          onClick: function onClick() {\n            return _this3.clickMarker();\n          },\n          position: \"relative\"\n        }, React.createElement(LocationOn, null)));\n      })));\n    }\n  }]);\n\n  return Map;\n}(React.Component);\n\nexport { Map as default };","map":null,"metadata":{},"sourceType":"module"}